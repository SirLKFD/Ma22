<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

@{
    ViewData["Title"] = "Delete User ";
}

<div id="deleteUserModal" class="fixed inset-0 z-50 flex hidden items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm">

    <div class="relative flex h-[700px] w-[1152px] flex-row rounded-xl bg-[#640A16] shadow-lg">
        <div class="absolute left-5 top-5">
            <a onclick="closeDeleteProfile()" class="hover-pointer">
                <span class="material-symbols-outlined text-[50px] text-white">arrow_circle_left</span>
            </a>
        </div>
        <div class="mt-24 flex w-full flex-col items-center">
            <h1 class="mb-5 text-4xl text-white">
                Are you sure you want to delete this User?
            </h1>
            <div class="mb-4 flex h-[200px] w-[200px] items-center justify-center overflow-hidden rounded-full bg-[#FFE9C6]">
                <img id="deleteUserProfilePic" src="" alt="Profile Picture" class="hidden h-full w-full rounded-full object-cover" />
                <span id="deleteUserProfileEmoji" class="text-[100px]">ðŸ‘¤</span>
            </div>
            <div class="mb-4 flex flex-col items-center justify-center gap-2">
                <h2 id="deleteUserName" class="text-2xl text-white">NamePlaceholder</h2>
                <h2 id="deleteUserId" class="text-white">ID Placeholder</h2>
            </div>
            <div class="flex flex-col gap-2">
                <form id="deleteUserForm" method="post" asp-controller="User" asp-action="DeleteUser">
                    <input type="hidden" id="deleteUserIdInput" name="idToDelete"/>
                    <button type="submit" id="confirmDeleteBtn" class="rounded-lg bg-[#EAC231] px-[200px] py-2">
                        Confirm
                    </button>
                </form>
                <button onclick="closeDeleteProfile()" class="rounded-lg bg-[#FFE9C6] px-[200px] py-2">
                    Cancel
                </button>
            </div>
        </div>



    </div>


</div>

<script>
// Ensure this script is present or included in the parent view
function openDeleteUserModal(id, name, profilePic) {
    document.getElementById('deleteUserModal').classList.remove('hidden');
    document.getElementById('deleteUserName').textContent = name;
    document.getElementById('deleteUserId').textContent = 'ID: ' + id;
    document.getElementById('deleteUserIdInput').value = id;
    console.log(id)
    if (profilePic && profilePic !== 'null' && profilePic !== '') {
        document.getElementById('deleteUserProfilePic').src = profilePic;
        document.getElementById('deleteUserProfilePic').classList.remove('hidden');
        document.getElementById('deleteUserProfileEmoji').classList.add('hidden');
    } else {
        document.getElementById('deleteUserProfilePic').classList.add('hidden');
        document.getElementById('deleteUserProfileEmoji').classList.remove('hidden');
    }
}
function closeDeleteProfile() {
    document.getElementById('deleteUserModal').classList.add('hidden');
}
</script>