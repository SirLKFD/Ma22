<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

@model ASI.Basecode.Services.ServiceModels.AdminCreateUserViewModel
@{
    ViewData["Title"] = "Add User Modal Page";
}

@if (ViewBag.NewUser != null)
{
    var user = ViewBag.NewUser;
    <div class="alert alert-success mt-3">
        <strong>New User Added:</strong><br />
        Email: @user.EmailId <br />
        Name: @user.FirstName @user.LastName <br />
        Role: @(user.Role == 0 ? "Admin" : "Guest")<br />
        @if (ViewBag.NewUserProfilePicture != null)
        {
            <img src="@ViewBag.NewUserProfilePicture" alt="Profile Picture" style="max-width:100px;max-height:100px;" />
        }
    </div>
}

<div id="addUserModal" class="fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex justify-center items-center hidden z-50">
    
    <div class="flex flex-row bg-[#640A16] rounded-xl w-full max-w-6xl max-h-[700px] shadow-lg relative">
        <div class="w-[450px] flex flex-col items-center justify-center bg-white rounded-l-xl">
            <div class="absolute top-5 left-5">
                <a onclick="closeModal()" class="hover-pointer">
                    <span class="material-symbols-outlined text-[50px]">arrow_circle_left</span>
                </a>
            </div>
            <input 
                id="profilePictureInput" 
                name="ProfilePicture" 
                type="file" 
                accept="image/*" 
                class="hidden" 
             />

            <label for="profilePictureInput" class="cursor-pointer block w-[300px] h-[300px] mb-10">
                <div class="flex items-center justify-center bg-[#FFE9C6] w-full h-full rounded-3xl">
                    <h1 class="text-5xl">+</h1>
                </div>
            </label>
            <div class="flex flex-col items-center gap-5">
                <h1 class="uppercase text-2xl">@HttpContextAccessor.HttpContext.Session.GetString("UserName")</h1>
                <h2>ID: **********</h2>
                <h2>Account Created: </h2>
            </div>
        </div>
         @* Form--> *@
        <div class="p-5 flex-1">

            <h2 class="text-2xl font-bold mb-4 text-white uppercase">Create User</h2>

            <form id="createuserform" asp-action="CreateUser" method="post" enctype="multipart/form-data" class="space-y-4">

                <div>
                    <div class="flex items-center justify-between">
                        <label class="text-white w-32">First Name</label>
                        <input name="FirstName" class="w-[400px] border rounded-xl p-2" />
                    </div>
                    <span asp-validation-for="FirstName" class="text-[#EAC231] text-sm block"></span>
                </div>

                <div>
                    <div class="flex items-center justify-between">
                        <label class="text-white w-32">Last Name</label>
                        <input name="LastName" class="w-[400px] border rounded-xl p-2" />
                    </div>
                    <span asp-validation-for="LastName" class="text-[#EAC231] text-sm block"></span>
                </div>

                <div>
                    <div class="flex items-center justify-between">
                        <label class="text-white w-32">Birthdate</label>
                        <input type="date" name="Birthdate" class="w-[400px] border rounded-xl p-2" />
                    </div>
                     @* <span asp-validation-for="Birthdate" class="text-red-500 text-sm ml-32 block"></span>  *@
                </div>

                <div>
                    <div class="flex items-center justify-between">
                        <label class="text-white w-32">Contact No.</label>
                        <input name="Contact" class="w-[400px] border rounded-xl p-2" />
                    </div>
                    <span asp-validation-for="Contact" class="text-[#EAC231] text-sm block"></span>
                </div>

                <div>
                    <div class="flex items-center justify-between">
                        <label class="text-white w-32">Email</label>
                        <input name="EmailId" class="w-[400px] border rounded-xl p-2" />
                    </div>
                    <span asp-validation-for="EmailId" class="text-[#EAC231] text-sm block"></span>
                </div>

                <div>
                    <div class="flex items-center justify-between">
                        <label class="text-white w-32">Password</label>
                        <input name="Password" type="password" class="w-[400px] border rounded-xl p-2" />
                    </div>
                    <span asp-validation-for="Password" class="text-[#EAC231] text-sm block"></span>
                </div>

                <div>
                    <div class="flex items-center justify-between">
                        <label class="text-white w-32">Role</label>
                        <select name="Role" class="w-[400px] border rounded-xl p-2 bg-[#EAC231] text-black font-semibold">
                            <option value="0">Admin</option>
                            <option value="1">Guest</option>
                        </select>
                    </div>
                    <span asp-validation-for="Role" class="text-[#EAC231] text-sm ml-32 block"></span>
                </div>

                <div class="flex justify-center pt-4">
                    <button type="submit" class="bg-[#FFE9C6] w-[400px] text-black font-bold px-6 py-2 rounded">Add User</button>
                </div>

            </form>

        </div>
    </div>
</div>


 